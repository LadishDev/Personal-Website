---
title: Docker & Compose
description: Container management, docker-compose stacks, and deployment strategies
status: documented
updated: Oct 2025
link: #docker
category: services
tags: [docker, containers, compose, deployment]
---

## Overview

Docker is the foundation of my homelab's service deployment strategy. All services run as containers, making them portable, easy to update, and simple to roll back if needed.

## Installation

```bash
# Install Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh

# Install Docker Compose
sudo apt-get install docker-compose-plugin
```

## Docker Compose Stack

All services are defined in docker-compose.yml files for easy management:

```yaml
version: '3.8'

services:
  nginx-proxy:
    image: 'jc21/nginx-proxy-manager:latest'
    restart: unless-stopped
    ports:
      - '80:80'
      - '81:81'
      - '443:443'
    volumes:
      - ./data:/data
      - ./letsencrypt:/etc/letsencrypt
```

## Useful Commands

### Container Management
- `docker ps` - List running containers
- `docker logs [container]` - View container logs
- `docker exec -it [container] bash` - Access container shell

### Docker Compose
- `docker-compose up -d` - Start services in detached mode
- `docker-compose down` - Stop and remove containers
- `docker-compose pull` - Pull latest images
- `docker-compose restart` - Restart all services

## Best Practices

1. **Use docker-compose.yml** - Keep all configuration in version control
2. **Named volumes** - For persistent data that needs to survive container recreation
3. **Restart policies** - Set `restart: unless-stopped` for production services
4. **Health checks** - Implement health checks for critical services
5. **Resource limits** - Set memory and CPU limits to prevent resource exhaustion
